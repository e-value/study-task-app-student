<script setup>
defineProps({
  message: {
    type: String,
    default: null,
  },
  fallbackMessage: {
    type: String,
    default: "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",
  },
  requestId: {
    type: String,
    default: null,
  },
  statusCode: {
    type: Number,
    default: null,
  },
});
</script>

<template>
  <div
    v-if="message || fallbackMessage"
    class="backdrop-blur-lg bg-red-500/10 border border-red-300/50 rounded-2xl p-6 shadow-xl"
  >
    <!-- ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ï¼ˆ500ï¼‰ã®å ´åˆã®ç‰¹åˆ¥ãªè¡¨ç¤º -->
    <div v-if="statusCode === 500" class="space-y-4">
      <div class="flex items-center gap-3">
        <svg
          class="w-6 h-6 text-red-600 flex-shrink-0"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        <p class="text-red-800 font-medium text-lg">
          âš ï¸ ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ
        </p>
      </div>

      <div class="pl-9 space-y-2">
        <p class="text-red-700">ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        <p class="text-red-700">
          å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆã¯ã€ä»¥ä¸‹ã®IDã‚’æ·»ãˆã¦<br />
          ç®¡ç†è€…ã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚
        </p>

        <div v-if="requestId" class="mt-4 pt-3 border-t border-red-200/50">
          <p class="text-red-700 flex items-center gap-2">
            <span class="text-lg">ğŸ“‹</span>
            <span class="font-semibold">ã‚¨ãƒ©ãƒ¼ID:</span>
            <code
              class="ml-2 px-3 py-1 bg-red-100/50 rounded text-red-900 font-mono text-sm"
            >
              {{ requestId }}
            </code>
          </p>
        </div>
      </div>
    </div>

    <!-- ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼ï¼ˆ500ä»¥å¤–ï¼‰ã®é€šå¸¸è¡¨ç¤º -->
    <div v-else class="flex items-center gap-3">
      <svg
        class="w-6 h-6 text-red-600 flex-shrink-0"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
        />
      </svg>
      <p class="text-red-800 font-medium">
        {{ message || fallbackMessage }}
      </p>
    </div>
  </div>
</template>
